---
title: 第一章 面向对象
date: 2022-05-14 23:42:49
categories:
- 课程
---

<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="generator" content="Aspose.Words for .NET 22.4.0" /><title></title></head><body style="font-family:'Helvetica Neue'; font-size:13pt"><div><ol type="1" style="margin:0pt; padding-left:0pt"><li style="margin-left:20pt; line-height:110%; padding-left:6.5pt; font-size:20pt; color:#323232"><a name="_RefAC53B2BE"><span style="font-family:'Times New Roman'">第</span><span>1</span><span style="font-family:'Times New Roman'">章 对象的概念</span></a><a href="marginnote3app://note/509A9115-DD1F-4F47-9B75-BC3CAC53B2BE" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#323232; -aw-import:spaces">&#xa0;</span><span style="color:#323232">&gt;&gt;</span></a><span style="-aw-bookmark-end:_RefAC53B2BE"></span></li></ol><p style="margin-top:0pt; margin-left:16pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><ol type="A" style="margin:0pt; padding-left:0pt"><li style="margin-left:21.5pt; line-height:110%; padding-left:6.5pt; font-size:16pt; color:#323232"><a name="_Ref9822C5C7"><span style="font-family:Georgia; background-color:#deffde">“</span><span style="font-family:'Times New Roman'; background-color:#deffde">我们没有意识到惯用语言的结构有多大的力量。可以毫不夸张地说</span><span style="font-family:Georgia; background-color:#deffde">,</span><span style="font-family:'Times New Roman'; background-color:#deffde">它通过语义反应机制奴役我们。 语言表现出来并在无意识中给我们留下深刻印象的结构会自动投射到我们周围的世界。</span><span style="font-family:Georgia; background-color:#deffde">” – Alfred Korzybski (1930)</span></a><a href="marginnote3app://note/21B20014-A3C2-431B-96F4-9F769822C5C7" style="text-decoration:none"><span style="color:#323232; -aw-import:spaces">&#xa0;</span><span style="color:#323232">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref9822C5C7"></span></li></ol><p style="margin-top:0pt; margin-left:28pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><ol type="1" style="margin:0pt; padding-left:0pt"><li style="margin-left:33.5pt; line-height:110%; padding-left:6.5pt"><a name="_Ref53080F5D"><span style="font-family:'Times New Roman'; background-color:#deffde">当我们进行面向对象的程序设计时</span><span style="font-family:Georgia; background-color:#deffde">,</span><span style="font-family:'Times New Roman'; background-color:#deffde">面临的最大一项挑战是</span><span style="font-family:Georgia; background-color:#deffde">:</span><span style="font-family:'Times New Roman'; background-color:#deffde">如何在 </span><span style="font-family:Georgia; background-color:#deffde">“</span><span style="font-family:'Times New Roman'; background-color:#deffde">问题空间</span><span style="font-family:Georgia; background-color:#deffde">”(</span><span style="font-family:'Times New Roman'; background-color:#deffde">问题实际存在的地方</span><span style="font-family:Georgia; background-color:#deffde">)</span><span style="font-family:'Times New Roman'; background-color:#deffde">的元素与 </span><span style="font-family:Georgia; background-color:#deffde">“</span><span style="font-family:'Times New Roman'; background-color:#deffde">方案空间</span><span style="font-family:Georgia; background-color:#deffde">”(</span><span style="font-family:'Times New Roman'; background-color:#deffde">对实际问题进行建模的地方</span><span style="font-family:Georgia; background-color:#deffde">,</span><span style="font-family:'Times New Roman'; background-color:#deffde">如计算机</span><span style="font-family:Georgia; background-color:#deffde">)</span><span style="font-family:'Times New Roman'; background-color:#deffde">的元素之间建立理想的 </span><span style="font-family:Georgia; background-color:#deffde">“</span><span style="font-family:'Times New Roman'; background-color:#deffde">一对一</span><span style="font-family:Georgia; background-color:#deffde">” </span><span style="font-family:'Times New Roman'; background-color:#deffde">的映射关系。</span></a><a href="marginnote3app://note/977F3EAB-1299-4FA9-A175-0ADB53080F5D" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref53080F5D"></span></li></ol><p style="margin-top:0pt; margin-left:40pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><ol start="2" type="A" style="margin:0pt; padding-left:0pt"><li style="margin-left:21.5pt; line-height:110%; padding-left:6.5pt; font-size:16pt; color:#323232"><a name="_Ref9317B337"><span>OOP</span></a><a href="marginnote3app://note/8EAD372B-71C6-4EE9-AABD-17679317B337" style="text-decoration:none"><span style="color:#323232; -aw-import:spaces">&#xa0;</span><span style="color:#323232">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref9317B337"></span></li></ol><p style="margin-top:0pt; margin-left:28pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><ol type="1" style="margin:0pt; padding-left:0pt"><li style="margin-left:33.5pt; line-height:110%; padding-left:6.5pt"><a name="_Ref1AF83FDD"><span style="font-family:'Times New Roman'">抽象</span></a><a href="marginnote3app://note/5C4DEFCB-4E53-4FCC-B8B1-8E9B1AF83FDD" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref1AF83FDD"></span></li></ol><p style="margin-top:0pt; margin-left:40pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt; text-indent:-21.6pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:3; -aw-list-number-format:'%3)'; -aw-list-number-styles:'lowerLetter'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>a)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref4836F8F6"><span style="font-family:'Times New Roman'">所有编程语言都提供抽象机制</span></a><a href="marginnote3app://note/76514DAC-CFD7-4EE4-A2F6-E9EE4836F8F6" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref4836F8F6"></span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt"><span style="font-family:'Times New Roman'; color:#737373; background-color:#d6e8ff">问题的复杂度直接取决于抽象的类型和质量</span><br /><span style="font-family:Georgia; color:#737373; background-color:#d6e8ff">“</span><span style="font-family:'Times New Roman'; color:#737373; background-color:#d6e8ff">类型</span><span style="font-family:Georgia; color:#737373; background-color:#d6e8ff">” </span><span style="font-family:'Times New Roman'; color:#737373; background-color:#d6e8ff">意思是</span><span style="font-family:Georgia; color:#737373; background-color:#d6e8ff">:</span><span style="font-family:'Times New Roman'; color:#737373; background-color:#d6e8ff">抽象的内容是什么</span><span style="font-family:Georgia; color:#737373; background-color:#d6e8ff">?</span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt; text-indent:-22.33pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:3; -aw-list-number-format:'%3)'; -aw-list-number-styles:'lowerLetter'; -aw-list-number-values:'2'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>b)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_RefEF7C960F"><span style="font-family:'Times New Roman'; background-color:#d6e8ff">一个对象具有自己的状态</span><span style="font-family:Georgia; background-color:#d6e8ff">, </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">行为和标识。 这意味着对象有自己的内部数据 </span><span style="font-family:Georgia; background-color:#d6e8ff">(</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">提供状态</span><span style="font-family:Georgia; background-color:#d6e8ff">)</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">、方法 </span><span style="font-family:Georgia; background-color:#d6e8ff">(</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">产生行为</span><span style="font-family:Georgia; background-color:#d6e8ff">), </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">并彼此区分</span><span style="font-family:Georgia; background-color:#d6e8ff">(</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">每个对象在内存中都有唯一的地址</span><span style="font-family:Georgia; background-color:#d6e8ff">) </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">。</span></a><a href="marginnote3app://note/76479618-2344-4F36-AFCC-E76AEF7C960F" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_RefEF7C960F"></span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt; text-indent:-26.66pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:4; -aw-list-number-format:'(%4)'; -aw-list-number-styles:'decimal'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(1)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref5A2CFB8D"><span>“</span><span style="font-family:'Times New Roman'">纯粹</span><span>” </span><span style="font-family:'Times New Roman'">的面向对象程序设计方法是什么样的</span></a><a href="marginnote3app://note/F071551F-8096-48D1-B3CF-CB715A2CFB8D" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><br /><span style="font-family:Georgia; background-color:#ffbf7f">Smalltalk </span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">作为第一个成功的面向对象并影响了 </span><span style="font-family:Georgia; background-color:#ffbf7f">Java </span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">的程序设计语言</span><span style="font-family:Georgia; background-color:#ffbf7f">,Alan Kay </span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">总结了其五大基本特征。</span><span style="-aw-bookmark-end:_Ref5A2CFB8D"></span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt; text-indent:-19.44pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:5; -aw-list-number-format:'%5)'; -aw-list-number-styles:'lowerRoman'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>i)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref56C231DF"><span style="font-family:'Times New Roman'">万物皆对象</span></a><a href="marginnote3app://note/C79D9DF1-D752-4564-9EF1-E4AB56C231DF" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><br /><span style="font-family:'Times New Roman'; background-color:#ffbf7f">万物皆对象。你可以将对象想象成一种特殊的变量。它存储数据</span><span style="font-family:Georgia; background-color:#ffbf7f">, </span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">但可以在你对其 </span><span style="font-family:Georgia; background-color:#ffbf7f">“</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">发出请求</span><span style="font-family:Georgia; background-color:#ffbf7f">” </span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">时执行本身的操作。理论上讲</span><span style="font-family:Georgia; background-color:#ffbf7f">,</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">你总是可以从要解决的问题身上抽象出概念性的组件</span><span style="font-family:Georgia; background-color:#ffbf7f">,</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">然后在程序中将其表示为一个对象。</span><span style="-aw-bookmark-end:_Ref56C231DF"></span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt; text-indent:-23.05pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:5; -aw-list-number-format:'%5)'; -aw-list-number-styles:'lowerRoman'; -aw-list-number-values:'2'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>ii)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref1CC465F2"><span style="font-family:'Times New Roman'">程序是一组对象</span><span>, </span><span style="font-family:'Times New Roman'">通过消息传递来告知彼此该做什么</span></a><a href="marginnote3app://note/B6EB671D-E94D-432E-AD69-FC3D1CC465F2" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><br /><span style="font-family:'Times New Roman'; background-color:#ffbf7f">要请求调用一个对象的方法</span><span style="font-family:Georgia; background-color:#ffbf7f">,</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">你需要向该对象发送消息。</span><span style="-aw-bookmark-end:_Ref1CC465F2"></span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt; text-indent:-26.66pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:5; -aw-list-number-format:'%5)'; -aw-list-number-styles:'lowerRoman'; -aw-list-number-values:'3'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>iii)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref5C74A1B2"><span style="font-family:'Times New Roman'">每个对象都有自己的存储空间</span><span>, </span><span style="font-family:'Times New Roman'">可容纳其他对象</span></a><a href="marginnote3app://note/8F4075D8-D7D8-4DA4-88A3-F17F5C74A1B2" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><br /><span style="font-family:'Times New Roman'; background-color:#ffbf7f">或者说</span><span style="font-family:Georgia; background-color:#ffbf7f">, </span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">通过封装现有对象</span><span style="font-family:Georgia; background-color:#ffbf7f">,</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">可制作出新型对象。所以</span><span style="font-family:Georgia; background-color:#ffbf7f">,</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">尽管对象的概念非常简单</span><span style="font-family:Georgia; background-color:#ffbf7f">,</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">但在程序中却可达到任意高的复杂程度。</span><span style="-aw-bookmark-end:_Ref5C74A1B2"></span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt; text-indent:-25.94pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:5; -aw-list-number-format:'%5)'; -aw-list-number-styles:'lowerRoman'; -aw-list-number-values:'4'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>iv)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref73C49258"><span style="font-family:'Times New Roman'">每个对象都有一种类型</span></a><a href="marginnote3app://note/8A0C862C-CE82-4774-8A24-D3FA73C49258" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><br /><span style="font-family:'Times New Roman'; background-color:#ffbf7f">根据语法</span><span style="font-family:Georgia; background-color:#ffbf7f">, </span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">每个对象都是某个 </span><span style="font-family:Georgia; background-color:#ffbf7f">“</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">类</span><span style="font-family:Georgia; background-color:#ffbf7f">” </span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">的一个 </span><span style="font-family:Georgia; background-color:#ffbf7f">“</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">实例</span><span style="font-family:Georgia; background-color:#ffbf7f">”</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">。其中</span><span style="font-family:Georgia; background-color:#ffbf7f">,“</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">类</span><span style="font-family:Georgia; background-color:#ffbf7f">”(Class)</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">是 </span><span style="font-family:Georgia; background-color:#ffbf7f">“</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">类型</span><span style="font-family:Georgia; background-color:#ffbf7f">”(Type)</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">的同义词。一个类最重要的特征就是 </span><span style="font-family:Georgia; background-color:#ffbf7f">“</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">能将什么消息发给它</span><span style="font-family:Georgia; background-color:#ffbf7f">?”</span><span style="-aw-bookmark-end:_Ref73C49258"></span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt; text-indent:-22.33pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:5; -aw-list-number-format:'%5)'; -aw-list-number-styles:'lowerRoman'; -aw-list-number-values:'5'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>v)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_RefD6AF68EC"><span style="font-family:'Times New Roman'">同一类所有对象都能接收相同的消息</span></a><a href="marginnote3app://note/EABEADCD-3EBD-4A4C-938A-DA5DD6AF68EC" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><br /><span style="font-family:'Times New Roman'; background-color:#ffbf7f">这实际是别有含义的一种说法</span><span style="font-family:Georgia; background-color:#ffbf7f">, </span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">大家不久便能理解。由于类型为 </span><span style="font-family:Georgia; background-color:#ffbf7f">“</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">圆</span><span style="font-family:Georgia; background-color:#ffbf7f">”(Circle)</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">的一个对象也属于类型为 </span><span style="font-family:Georgia; background-color:#ffbf7f">“</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">形状</span><span style="font-family:Georgia; background-color:#ffbf7f">”(Shape)</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">的一个对象</span><span style="font-family:Georgia; background-color:#ffbf7f">,</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">所以一个圆完全能接收发送给 </span><span style="font-family:Georgia; background-color:#ffbf7f">“</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">形状</span><span style="font-family:Georgia; background-color:#ffbf7f">”</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">的消息。这意味着可让程序代码统一指挥 </span><span style="font-family:Georgia; background-color:#ffbf7f">“</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">形状</span><span style="font-family:Georgia; background-color:#ffbf7f">”,</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">令其自动控制所有符合 </span><span style="font-family:Georgia; background-color:#ffbf7f">“</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">形状</span><span style="font-family:Georgia; background-color:#ffbf7f">” </span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">描述的对象</span><span style="font-family:Georgia; background-color:#ffbf7f">,</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">其中自然包括 </span><span style="font-family:Georgia; background-color:#ffbf7f">“</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">圆</span><span style="font-family:Georgia; background-color:#ffbf7f">”</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">。这一特性称为对象的</span><span style="font-family:Georgia; background-color:#ffbf7f">“</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">可替换性</span><span style="font-family:Georgia; background-color:#ffbf7f">”,</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">是 </span><span style="font-family:Georgia; background-color:#ffbf7f">OOP </span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">最重要的概念之一。</span><span style="-aw-bookmark-end:_RefD6AF68EC"></span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt; text-indent:-26.66pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:4; -aw-list-number-format:'(%4)'; -aw-list-number-styles:'decimal'; -aw-list-number-values:'2'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(2)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref21EAF327"><span style="font-family:'Times New Roman'; background-color:#ffbf7f">所有对象都是唯一的</span><span style="font-family:Georgia; background-color:#ffbf7f">,</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">但同时也是具有相同的特性和行为的对象所归属的类的一部分。</span></a><a href="marginnote3app://note/E471A2F7-A460-4360-AA04-398621EAF327" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref21EAF327"></span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt; text-indent:-21.6pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:3; -aw-list-number-format:'%3)'; -aw-list-number-styles:'lowerLetter'; -aw-list-number-values:'3'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>c)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref61026B9D"><span style="font-family:'Times New Roman'; background-color:#d6e8ff">程序员可利用一些工具表达 </span><span style="font-family:Georgia; background-color:#d6e8ff">“</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">问题空间</span><span style="font-family:Georgia; background-color:#d6e8ff">” </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">内的元素。由于这种表达非常具有普遍性</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">所以不必受限于特定类型的问题。我们将问题空间中的元素以及它们在解决方案空间的表示称作 </span><span style="font-family:Georgia; background-color:#d6e8ff">“</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">对象</span><span style="font-family:Georgia; background-color:#d6e8ff">”(Object)</span></a><a href="marginnote3app://note/4A73961D-56B5-4D06-9938-52D761026B9D" style="text-decoration:none"><span style="color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref61026B9D"></span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><ol start="2" type="1" style="margin:0pt; padding-left:0pt"><li style="margin-left:33.5pt; line-height:110%; padding-left:6.5pt"><a name="_Ref4E8EF2AE"><span style="font-family:'Times New Roman'">接口</span></a><a href="marginnote3app://note/2FA8AAAD-5B59-490E-92E3-60564E8EF2AE" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref4E8EF2AE"></span></li></ol><p style="margin-top:0pt; margin-left:40pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt; text-indent:-21.6pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:3; -aw-list-number-format:'%3)'; -aw-list-number-styles:'lowerLetter'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>a)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_RefA86788BB"><span style="font-family:'Times New Roman'; background-color:#deffde">每个对象仅能接受特定的请求。我们向对象发出的请求是通过它的 </span><span style="font-family:Georgia; background-color:#deffde">“</span><span style="font-family:'Times New Roman'; background-color:#deffde">接口</span><span style="font-family:Georgia; background-color:#deffde">”(Interface)</span><span style="font-family:'Times New Roman'; background-color:#deffde">定义的</span><span style="font-family:Georgia; background-color:#deffde">,</span><span style="font-family:'Times New Roman'; background-color:#deffde">对象的 </span><span style="font-family:Georgia; background-color:#deffde">“</span><span style="font-family:'Times New Roman'; background-color:#deffde">类型</span><span style="font-family:Georgia; background-color:#deffde">” </span><span style="font-family:'Times New Roman'; background-color:#deffde">或 </span><span style="font-family:Georgia; background-color:#deffde">“</span><span style="font-family:'Times New Roman'; background-color:#deffde">类</span><span style="font-family:Georgia; background-color:#deffde">” </span><span style="font-family:'Times New Roman'; background-color:#deffde">则规定了它的接口形式。</span><span style="font-family:Georgia; background-color:#deffde">“</span><span style="font-family:'Times New Roman'; background-color:#deffde">类型</span><span style="font-family:Georgia; background-color:#deffde">” </span><span style="font-family:'Times New Roman'; background-color:#deffde">与 </span><span style="font-family:Georgia; background-color:#deffde">“</span><span style="font-family:'Times New Roman'; background-color:#deffde">接口</span><span style="font-family:Georgia; background-color:#deffde">” </span><span style="font-family:'Times New Roman'; background-color:#deffde">的对应关系是面向对象程序设计的基础</span></a><a href="marginnote3app://note/70395856-7BAA-46EE-B878-2A74A86788BB" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_RefA86788BB"></span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><ol start="3" type="1" style="margin:0pt; padding-left:0pt"><li style="margin-left:33.5pt; line-height:110%; padding-left:6.5pt"><a name="_Ref82DB3D38"><span style="font-family:'Times New Roman'">服务提供</span></a><a href="marginnote3app://note/C8EBD715-6D10-4355-B4EF-A21682DB3D38" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref82DB3D38"></span></li></ol><p style="margin-top:0pt; margin-left:40pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt; text-indent:-21.6pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:3; -aw-list-number-format:'%3)'; -aw-list-number-styles:'lowerLetter'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>a)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref4F944A6B"><span style="font-family:'Times New Roman'; background-color:#deffde">开发或理解程序设计时</span><span style="font-family:Georgia; background-color:#deffde">,</span><span style="font-family:'Times New Roman'; background-color:#deffde">我们可以将对象看成是 </span><span style="font-family:Georgia; background-color:#deffde">“</span><span style="font-family:'Times New Roman'; background-color:#deffde">服务提供者</span><span style="font-family:Georgia; background-color:#deffde">”</span><span style="font-family:'Times New Roman'; background-color:#deffde">。你的程序本身将为用户提供服务</span><span style="font-family:Georgia; background-color:#deffde">,</span><span style="font-family:'Times New Roman'; background-color:#deffde">并且它能通过调用其他对象提供的服务来实现这一点。我们的最终目标是开发或调用工具库中已有的一些对象</span><span style="font-family:Georgia; background-color:#deffde">,</span><span style="font-family:'Times New Roman'; background-color:#deffde">提供理想的服务来解决问题</span></a><a href="marginnote3app://note/0DFF0A5B-6D42-4517-A3F0-6CB94F944A6B" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref4F944A6B"></span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt; text-indent:-22.33pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:3; -aw-list-number-format:'%3)'; -aw-list-number-styles:'lowerLetter'; -aw-list-number-values:'2'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>b)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref2D90BFA9"><span style="font-family:'Times New Roman'; background-color:#deffde">将这些问题一一分解</span><span style="font-family:Georgia; background-color:#deffde">,</span><span style="font-family:'Times New Roman'; background-color:#deffde">抽象成一组服务。软件设计的基本原则是高内聚</span><span style="font-family:Georgia; background-color:#deffde">: </span><span style="font-family:'Times New Roman'; background-color:#deffde">每个组件的内部作用明确</span><span style="font-family:Georgia; background-color:#deffde">,</span><span style="font-family:'Times New Roman'; background-color:#deffde">功能紧密相关</span></a><a href="marginnote3app://note/F74B593C-FD6A-46FB-9F55-89642D90BFA9" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref2D90BFA9"></span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt; text-indent:-26.66pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:4; -aw-list-number-format:'(%4)'; -aw-list-number-styles:'decimal'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(1)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref1C3AC2B8"><span style="font-family:'Times New Roman'; background-color:#deffde">每个对象都提供了一组紧密的服务。在良好的面向对象设计中</span><span style="font-family:Georgia; background-color:#deffde">,</span><span style="font-family:'Times New Roman'; background-color:#deffde">每个对象功能单一且高效。这样的程序设计可以提高我们代码的复用性</span><span style="font-family:Georgia; background-color:#deffde">,</span><span style="font-family:'Times New Roman'; background-color:#deffde">同时也方便别人阅读和理解我们的代码。只有让人知道你提供什么服务</span><span style="font-family:Georgia; background-color:#deffde">,</span><span style="font-family:'Times New Roman'; background-color:#deffde">别人才能更好地将其应用到其他模块或程序中。</span></a><a href="marginnote3app://note/AFA5DEE3-96BE-4B7B-BD1B-B7881C3AC2B8" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref1C3AC2B8"></span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><ol start="4" type="1" style="margin:0pt; padding-left:0pt"><li style="margin-left:33.5pt; line-height:110%; padding-left:6.5pt"><a name="_Ref767FD014"><span style="font-family:'Times New Roman'">封装</span></a><a href="marginnote3app://note/F0697965-F37E-4356-BF1B-6BA6767FD014" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref767FD014"></span></li></ol><p style="margin-top:0pt; margin-left:40pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt; text-indent:-21.6pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:3; -aw-list-number-format:'%3)'; -aw-list-number-styles:'lowerLetter'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>a)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref71D0136B"><span style="font-family:'Times New Roman'">使用访问控制的原因</span></a><a href="marginnote3app://note/90EBC933-E33C-4917-9316-80AA71D0136B" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref71D0136B"></span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt; text-indent:-26.66pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:4; -aw-list-number-format:'(%4)'; -aw-list-number-styles:'decimal'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(1)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref83D531DC"><span style="font-family:'Times New Roman'; background-color:#d6e8ff">让应用程序员不要触摸他们不应该触摸的部分。</span></a><a href="marginnote3app://note/DD37D0E4-B3C4-4D3F-8F56-065C83D531DC" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref83D531DC"></span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt; text-indent:-26.66pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:4; -aw-list-number-format:'(%4)'; -aw-list-number-styles:'decimal'; -aw-list-number-values:'2'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(2)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref94152306"><span style="font-family:'Times New Roman'; background-color:#d6e8ff">使类库的创建者</span><span style="font-family:Georgia; background-color:#d6e8ff">(</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">研发程序员</span><span style="font-family:Georgia; background-color:#d6e8ff">)</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">在不影响后者使用的情况下完善更新工具库。例如</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">我们开发了一个功能简单的工具类</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">后来发现可以通过优化代码来提高执行速度。假如工具类的接口和实现部分明确分开并受到保护</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">那我们就可以轻松地完成改造。</span></a><a href="marginnote3app://note/2EAB2BB0-B198-4A21-A31D-3CAF94152306" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref94152306"></span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt; text-indent:-22.33pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:3; -aw-list-number-format:'%3)'; -aw-list-number-styles:'lowerLetter'; -aw-list-number-values:'2'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>b)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref26839647"><span style="font-family:'Times New Roman'">访问权限</span></a><a href="marginnote3app://note/C2E1ABE8-C3F9-4A81-AB94-B58526839647" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref26839647"></span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt; text-indent:-26.66pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:4; -aw-list-number-format:'(%4)'; -aw-list-number-styles:'decimal'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(1)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref8A839FBE"><span style="font-family:Georgia; background-color:#d6e8ff">public(</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">公开</span><span style="font-family:Georgia; background-color:#d6e8ff">)</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">表示任何人都可以访问和使用该元素</span></a><a href="marginnote3app://note/C0CE15AB-8439-4B09-A73F-04F58A839FBE" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref8A839FBE"></span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt; text-indent:-26.66pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:4; -aw-list-number-format:'(%4)'; -aw-list-number-styles:'decimal'; -aw-list-number-values:'2'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(2)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref232FC0BA"><span style="font-family:Georgia; background-color:#d6e8ff">private (</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">私有</span><span style="font-family:Georgia; background-color:#d6e8ff">) </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">除了类本身和类内部的方法</span><span style="font-family:Georgia; background-color:#d6e8ff">, </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">外界无法直接访问该元素。 </span><span style="font-family:Georgia; background-color:#d6e8ff">private </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">是类和调用者之间的屏障。任何试图访问私有成员的行为都会报编译时错误</span><span style="font-family:Georgia; background-color:#d6e8ff">;</span></a><a href="marginnote3app://note/CE4D45DF-C66C-42E6-BDFD-B302232FC0BA" style="text-decoration:none"><span style="color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref232FC0BA"></span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt; text-indent:-26.66pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:4; -aw-list-number-format:'(%4)'; -aw-list-number-styles:'decimal'; -aw-list-number-values:'3'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(3)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref5095F71C"><span style="font-family:Georgia; background-color:#d6e8ff">protected (</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">受保护</span><span style="font-family:Georgia; background-color:#d6e8ff">) </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">类似于 </span><span style="font-family:Georgia; background-color:#d6e8ff">private, </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">区别是子类 </span><span style="font-family:Georgia; background-color:#d6e8ff">(</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">下一节就会引入继承的概念</span><span style="font-family:Georgia; background-color:#d6e8ff">) </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">可以访问 </span><span style="font-family:Georgia; background-color:#d6e8ff">protected </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">的成员</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">但不能访问 </span><span style="font-family:Georgia; background-color:#d6e8ff">private </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">成员</span><span style="font-family:Georgia; background-color:#d6e8ff">;</span></a><a href="marginnote3app://note/0448FB80-4851-4FDE-A155-E7DE5095F71C" style="text-decoration:none"><span style="color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref5095F71C"></span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt; text-indent:-26.66pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:4; -aw-list-number-format:'(%4)'; -aw-list-number-styles:'decimal'; -aw-list-number-values:'4'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(4)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref66924841"><span style="font-family:Georgia; background-color:#d6e8ff">default (</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">默认</span><span style="font-family:Georgia; background-color:#d6e8ff">) </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">如果你不使用前面的三者</span><span style="font-family:Georgia; background-color:#d6e8ff">, </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">默认就是 </span><span style="font-family:Georgia; background-color:#d6e8ff">default </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">访问权限。 </span><span style="font-family:Georgia; background-color:#d6e8ff">default </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">被称为包访问</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">因为该权限下的资源可以被同一包</span><span style="font-family:Georgia; background-color:#d6e8ff">(</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">库组件</span><span style="font-family:Georgia; background-color:#d6e8ff">)</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">中其他类的成员访问。</span></a><a href="marginnote3app://note/98DE76E2-ACE8-4023-A44E-6B8466924841" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref66924841"></span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><ol start="5" type="1" style="margin:0pt; padding-left:0pt"><li style="margin-left:33.5pt; line-height:110%; padding-left:6.5pt"><a name="_Ref0DA9DB88"><span style="font-family:'Times New Roman'">复用</span></a><a href="marginnote3app://note/FBFDC450-6BBD-4C2D-944F-25BF0DA9DB88" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref0DA9DB88"></span></li></ol><p style="margin-top:0pt; margin-left:40pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt; text-indent:-21.6pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:3; -aw-list-number-format:'%3)'; -aw-list-number-styles:'lowerLetter'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>a)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref02F87753"><span style="font-family:'Times New Roman'; background-color:#d6e8ff">两个类生命周期不同步</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">则是聚合关系</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">生命周期同步就是组合关系</span></a><a href="marginnote3app://note/04B0618D-A3E3-4EB7-8067-934402F87753" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref02F87753"></span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt; text-indent:-26.66pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:4; -aw-list-number-format:'(%4)'; -aw-list-number-styles:'decimal'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(1)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref4057D0E1"><span style="font-family:'Times New Roman'">聚合</span><span>(Aggregation)</span><span style="font-family:'Times New Roman'">动态的组合</span></a><a href="marginnote3app://note/1EEFF6E1-C8F9-484F-9A9C-85A04057D0E1" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><br /><span style="font-family:'Times New Roman'; background-color:#d6e8ff">空心三角形。</span><span style="-aw-bookmark-end:_Ref4057D0E1"></span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt; text-indent:-19.44pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:5; -aw-list-number-format:'%5)'; -aw-list-number-styles:'lowerRoman'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>i)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref19402191"><span style="font-family:'Times New Roman'; background-color:#d6e8ff">聚合关系中</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">整件不会拥有部件的生命周期</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">所以整件删除时</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">部件不会被删除</span></a><a href="marginnote3app://note/BA78EDE7-F384-44ED-B651-7C1B19402191" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref19402191"></span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt; text-indent:-26.66pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:4; -aw-list-number-format:'(%4)'; -aw-list-number-styles:'decimal'; -aw-list-number-values:'2'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(2)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref9E94FB21"><span style="font-family:'Times New Roman'">组合</span><span>(Composition)</span></a><a href="marginnote3app://note/F04B3AE7-CE07-4C3B-9AAA-CE099E94FB21" style="text-decoration:none"><span style="color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><br /><span style="font-family:'Times New Roman'; background-color:#d6e8ff">实心三角形</span><span style="-aw-bookmark-end:_Ref9E94FB21"></span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt; text-indent:-19.44pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:5; -aw-list-number-format:'%5)'; -aw-list-number-styles:'lowerRoman'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>i)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref882DD0C0"><span style="font-family:'Times New Roman'; background-color:#d6e8ff">组合关系中</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">整件拥有部件的生命周期</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">所以整件删除时</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">部件一定会跟着删除。而且</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">多个整件不可以同时共享同一个部件</span></a><a href="marginnote3app://note/F37FEAB1-DC03-40F9-BDB1-635B882DD0C0" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref882DD0C0"></span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt; text-indent:-23.05pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:5; -aw-list-number-format:'%5)'; -aw-list-number-styles:'lowerRoman'; -aw-list-number-values:'2'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>ii)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_RefEC7E1A39"><span style="font-family:'Times New Roman'; background-color:#d6e8ff">组合</span><span style="font-family:Georgia; background-color:#d6e8ff">(Composition)</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">经常用来表示 </span><span style="font-family:Georgia; background-color:#d6e8ff">“</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">拥有</span><span style="font-family:Georgia; background-color:#d6e8ff">” </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">关系</span><span style="font-family:Georgia; background-color:#d6e8ff">(has-a relationship) </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">。例如</span><span style="font-family:Georgia; background-color:#d6e8ff">,“</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">汽车拥有引擎</span><span style="font-family:Georgia; background-color:#d6e8ff">”</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">。</span></a><a href="marginnote3app://note/72820BFE-6B4B-414D-8E55-D2F5EC7E1A39" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_RefEC7E1A39"></span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><ol start="6" type="1" style="margin:0pt; padding-left:0pt"><li style="margin-left:33.5pt; line-height:110%; padding-left:6.5pt"><a name="_RefEC7E1F70"><span style="font-family:'Times New Roman'">继承</span></a><a href="marginnote3app://note/12B68A71-9A32-40F5-89D8-422FEC7E1F70" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_RefEC7E1F70"></span></li></ol><p style="margin-top:0pt; margin-left:40pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt; text-indent:-21.6pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:3; -aw-list-number-format:'%3)'; -aw-list-number-styles:'lowerLetter'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>a)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_RefEFCEA79A"><span style="font-family:'Times New Roman'; background-color:#d6e8ff">使用继承</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">你将构建一个类型层次结构</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">来表示你试图解决的某种类型的问题</span></a><a href="marginnote3app://note/7EDCE0C7-5EFA-459A-8318-EE64EFCEA79A" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_RefEFCEA79A"></span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt; text-indent:-22.33pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:3; -aw-list-number-format:'%3)'; -aw-list-number-styles:'lowerLetter'; -aw-list-number-values:'2'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>b)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_RefE70C0EAB"><span style="font-family:'Times New Roman'; background-color:#d6e8ff">以相同的术语将解决方案转换成问题是有用的</span><span style="font-family:Georgia; background-color:#d6e8ff">, </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">因为你不需要在问题描述和解决方案描述之间建立许多中间模型。通过使用对象</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">类型层次结构成为了主要模型</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">因此你可以直接从真实世界中对系统的描述过渡到用代码对系统进行描述</span></a><a href="marginnote3app://note/91FFBE6A-DE4B-43A0-A239-91D6E70C0EAB" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_RefE70C0EAB"></span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt; text-indent:-21.6pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:3; -aw-list-number-format:'%3)'; -aw-list-number-styles:'lowerLetter'; -aw-list-number-values:'3'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>c)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref8D24BA77"><span style="font-family:'Times New Roman'; background-color:#d6e8ff">若原始类</span><span style="font-family:Georgia; background-color:#d6e8ff">(</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">正式名称叫作基类、超类或父类</span><span style="font-family:Georgia; background-color:#d6e8ff">)</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">发生了变化</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">修改过的 </span><span style="font-family:Georgia; background-color:#d6e8ff">“</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">克隆</span><span style="font-family:Georgia; background-color:#d6e8ff">” </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">类</span><span style="font-family:Georgia; background-color:#d6e8ff">(</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">正式名称叫作继承类或者子类</span><span style="font-family:Georgia; background-color:#d6e8ff">)</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">也会反映出这种变化</span></a><a href="marginnote3app://note/61A07E82-21C0-46AF-93F2-3A738D24BA77" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref8D24BA77"></span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt; text-indent:-26.66pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:4; -aw-list-number-format:'(%4)'; -aw-list-number-styles:'decimal'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(1)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref49D775FC"><span style="font-family:'Times New Roman'; background-color:#d6e8ff">这种新类型不仅包含现有类型的所有成员</span><span style="font-family:Georgia; background-color:#d6e8ff">(</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">尽管私有成员被隐藏起来并且不可访问</span><span style="font-family:Georgia; background-color:#d6e8ff">) ,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">而且更重要的是它复制了基类的接口。也就是说</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">基类对象接收的所有消息也能被派生类对象接收</span></a><a href="marginnote3app://note/97EEA62E-CDDB-446F-ADD4-670949D775FC" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref49D775FC"></span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt; text-indent:-26.66pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:4; -aw-list-number-format:'(%4)'; -aw-list-number-styles:'decimal'; -aw-list-number-values:'2'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(2)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_RefDD2DC72B"><span style="font-family:'Times New Roman'; background-color:#d6e8ff">两种方法可以区分新的派生类与原始的基类</span></a><a href="marginnote3app://note/1DCE1E23-D965-409A-8030-0830DD2DC72B" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_RefDD2DC72B"></span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt; text-indent:-19.44pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:5; -aw-list-number-format:'%5)'; -aw-list-number-styles:'lowerRoman'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>i)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref562C0870"><span style="font-family:'Times New Roman'; background-color:#d6e8ff">添加新方法</span><span style="font-family:Georgia; background-color:#d6e8ff">(</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">尤其是在以 </span><span style="font-family:Georgia; background-color:#d6e8ff">extends </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">关键字表示继承的 </span><span style="font-family:Georgia; background-color:#d6e8ff">Java </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">中</span><span style="font-family:Georgia; background-color:#d6e8ff">)</span></a><a href="marginnote3app://note/62AB6DF6-B635-4063-96FC-79C1562C0870" style="text-decoration:none"><span style="color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref562C0870"></span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt; text-indent:-23.05pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:5; -aw-list-number-format:'%5)'; -aw-list-number-styles:'lowerRoman'; -aw-list-number-values:'2'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>ii)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref44409F69"><span style="font-family:'Times New Roman'; background-color:#d6e8ff">改变现有基类方法的行为</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">这被称为覆盖 </span><span style="font-family:Georgia; background-color:#d6e8ff">(overriding)</span></a><a href="marginnote3app://note/3B0BF664-40CD-40FF-AC52-9D4C44409F69" style="text-decoration:none"><span style="color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref44409F69"></span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt"><span style="font-family:'Times New Roman'; color:#737373; background-color:#d6e8ff">只需要在派生类中重新定义这个方法即可</span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt; text-indent:-22.33pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:3; -aw-list-number-format:'%3)'; -aw-list-number-styles:'lowerLetter'; -aw-list-number-values:'4'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>d)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref3F06F3E0"><span>“</span><span style="font-family:'Times New Roman'">是一个</span><span>” </span><span style="font-family:'Times New Roman'">与 </span><span>“</span><span style="font-family:'Times New Roman'">像是一个</span><span>” </span><span style="font-family:'Times New Roman'">的关系</span></a><a href="marginnote3app://note/E3281447-240E-4EEE-8490-2B763F06F3E0" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><br /><span style="font-family:'Times New Roman'; background-color:#d6e8ff">继承应该只覆盖基类的方法 </span><span style="font-family:Georgia; background-color:#d6e8ff">(</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">不应该添加基类中没有的方法</span><span style="font-family:Georgia; background-color:#d6e8ff">) </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">吗</span><span style="font-family:Georgia; background-color:#d6e8ff">?</span><span style="-aw-bookmark-end:_Ref3F06F3E0"></span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt; text-indent:-26.66pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:4; -aw-list-number-format:'(%4)'; -aw-list-number-styles:'decimal'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(1)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_RefBB7D65E1"><span>“</span><span style="font-family:'Times New Roman'">纯粹替代</span><span>”</span></a><a href="marginnote3app://note/3736DFFC-6B25-4051-B43B-F270BB7D65E1" style="text-decoration:none"><span style="color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_RefBB7D65E1"></span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt"><span style="font-family:Georgia; color:#737373; background-color:#d6e8ff">“</span><span style="font-family:'Times New Roman'; color:#737373; background-color:#d6e8ff">替代原则</span><span style="font-family:Georgia; color:#737373; background-color:#d6e8ff">”</span><br /><span style="font-family:'Times New Roman'; color:#737373; background-color:#d6e8ff">是一个</span><span style="font-family:Georgia; color:#737373; background-color:#d6e8ff">(is-a)</span><span style="font-family:'Times New Roman'; color:#737373; background-color:#d6e8ff">关系</span><br /><span style="font-family:'Times New Roman'; color:#737373; background-color:#d6e8ff">基类和派生类就是相同的类型了</span><span style="font-family:Georgia; color:#737373; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; color:#737373; background-color:#d6e8ff">因为它们具有相同的接口</span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt; text-indent:-26.66pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:4; -aw-list-number-format:'(%4)'; -aw-list-number-styles:'decimal'; -aw-list-number-values:'2'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(2)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref65E533CE"><span style="font-family:'Times New Roman'">像是一个 </span><span>(is-like-a) </span><span style="font-family:'Times New Roman'">关系</span></a><a href="marginnote3app://note/8B02D5D9-468F-4933-83C0-E0A965E533CE" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><br /><span style="font-family:'Times New Roman'; background-color:#d6e8ff">有时你在派生类添加了新的接口元素</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">从而扩展接口。虽然新类型仍然可以替代基类</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">但是这种替代不完美</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">原因在于基类无法访问新添加的方法</span><span style="-aw-bookmark-end:_Ref65E533CE"></span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><ol start="7" type="1" style="margin:0pt; padding-left:0pt"><li style="margin-left:33.5pt; line-height:110%; padding-left:6.5pt"><a name="_RefB286AAF5"><span style="font-family:'Times New Roman'">多态</span></a><a href="marginnote3app://note/4B5AAF42-B20D-4224-893D-3854B286AAF5" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_RefB286AAF5"></span></li></ol><p style="margin-top:0pt; margin-left:40pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt; text-indent:-21.6pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:3; -aw-list-number-format:'%3)'; -aw-list-number-styles:'lowerLetter'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>a)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref79FA2F7E"><span style="font-family:'Times New Roman'; background-color:#d6e8ff">我们在处理类的层次结构时</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">通常把一个对象看成是它所属的基类</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">而不是把它当成具体类</span></a><a href="marginnote3app://note/BB27FF99-703F-4C8E-B6AB-F38979FA2F7E" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref79FA2F7E"></span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt; text-indent:-26.66pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:4; -aw-list-number-format:'(%4)'; -aw-list-number-styles:'decimal'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(1)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref017FB8C0"><span style="font-family:'Times New Roman'; background-color:#d6e8ff">代码不会受添加的新类型影响</span><span style="font-family:Georgia; background-color:#d6e8ff">, </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">并且添加新类型是扩展面向对象程序以处理新情况的常用方法</span></a><a href="marginnote3app://note/E8833F3B-C88D-46E2-A725-E8D2017FB8C0" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref017FB8C0"></span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt; text-indent:-22.33pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:3; -aw-list-number-format:'%3)'; -aw-list-number-styles:'lowerLetter'; -aw-list-number-values:'2'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>b)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref1280099F"><span style="font-family:'Times New Roman'; background-color:#d6e8ff">当程序接收这种消息时</span><span style="font-family:Georgia; background-color:#d6e8ff">, </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">程序员并不想知道哪段代码会被执行。</span><span style="font-family:Georgia; background-color:#d6e8ff">“</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">绘图</span><span style="font-family:Georgia; background-color:#d6e8ff">” </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">的方法可以平等地应用到每种可能的 </span><span style="font-family:Georgia; background-color:#d6e8ff">“</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">形状</span><span style="font-family:Georgia; background-color:#d6e8ff">”</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">上</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">形状会依据自身的具体类型执行恰当的代码。</span></a><a href="marginnote3app://note/A13F8836-32AE-4A45-A414-E0271280099F" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref1280099F"></span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt; text-indent:-26.66pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:4; -aw-list-number-format:'(%4)'; -aw-list-number-styles:'decimal'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(1)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref904760EF"><span style="font-family:'Times New Roman'; background-color:#d6e8ff">如果不需要知道执行了哪部分代码</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">那我们就能添加一个新的不同执行方式的子类而不需要更改调用它的方法</span></a><a href="marginnote3app://note/00CD9F25-E65E-44DF-A075-BA81904760EF" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref904760EF"></span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt; text-indent:-19.44pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:5; -aw-list-number-format:'%5)'; -aw-list-number-styles:'lowerRoman'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>i)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref05000443"><span style="font-family:'Times New Roman'; background-color:#d6e8ff">在传统意义上</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">编译器不能进行函数调用。由非 </span><span style="font-family:Georgia; background-color:#d6e8ff">OOP </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">编译器产生的函数调用会引起所谓的早期绑定</span></a><a href="marginnote3app://note/EE5DB34A-8449-44B8-B6B9-267E05000443" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref05000443"></span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:88pt; margin-bottom:0pt; text-indent:-25.93pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:6; -aw-list-number-format:'(%6)'; -aw-list-number-styles:'lowerLetter'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(a)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref8876C154"><span style="font-family:'Times New Roman'; background-color:#d6e8ff">这意味着编译器生成对特定函数名的调用</span><span style="font-family:Georgia; background-color:#d6e8ff">, </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">该调用会被解析为将执行的代码的绝对地址。</span></a><a href="marginnote3app://note/591C65B8-96FA-46A9-A100-50E68876C154" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref8876C154"></span></p><p style="margin-top:0pt; margin-left:88pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt; text-indent:-23.05pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:5; -aw-list-number-format:'%5)'; -aw-list-number-styles:'lowerRoman'; -aw-list-number-values:'2'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>ii)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref7CC05626"><span style="font-family:'Times New Roman'; background-color:#d6e8ff">通过继承</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">程序直到运行时才能确定代码的地址</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">因此发送消息给对象时</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">还需要</span></a><a href="marginnote3app://note/99C12357-E9C5-4555-826D-4FB57CC05626" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref7CC05626"></span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt"><span style="font-family:'Times New Roman'; color:#737373; background-color:#d6e8ff">其他一些方案。为了解决这个问题</span><span style="font-family:Georgia; color:#737373; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; color:#737373; background-color:#d6e8ff">面向对象语言使用后期绑定的概念。当向对象发送信息时</span><span style="font-family:Georgia; color:#737373; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; color:#737373; background-color:#d6e8ff">被调用的代码直到运行时才确定。编译器确保方法存在</span><span style="font-family:Georgia; color:#737373; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; color:#737373; background-color:#d6e8ff">并对参数和返回值执行类型检查</span><span style="font-family:Georgia; color:#737373; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; color:#737373; background-color:#d6e8ff">但是它不知道要执行的确切代码。</span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:88pt; margin-bottom:0pt; text-indent:-25.93pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:6; -aw-list-number-format:'(%6)'; -aw-list-number-styles:'lowerLetter'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(a)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref48380A5C"><span style="font-family:'Times New Roman'; background-color:#d6e8ff">为了执行后期绑定</span><span style="font-family:Georgia; background-color:#d6e8ff">,Java </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">使用一个特殊的代码位来代替绝对调用。这段代码使用对象中存储的信息来计算方法主体的地址</span></a><a href="marginnote3app://note/94186CFE-3A45-4FE2-918F-74CE48380A5C" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref48380A5C"></span></p><p style="margin-top:0pt; margin-left:88pt; margin-bottom:0pt"><span style="font-family:'Times New Roman'; color:#737373; background-color:#d6e8ff">因此</span><span style="font-family:Georgia; color:#737373; background-color:#d6e8ff">, </span><span style="font-family:'Times New Roman'; color:#737373; background-color:#d6e8ff">每个对象的行为根据特定代码位的内容而不同</span></p><p style="margin-top:0pt; margin-left:88pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:100pt; margin-bottom:0pt; text-indent:-19.44pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:7; -aw-list-number-format:'%7)'; -aw-list-number-styles:'lowerRoman'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>i)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_RefD9C30A77"><span style="font-family:'Times New Roman'; background-color:#ececec">在某些语言中</span><span style="font-family:Georgia; background-color:#ececec">,</span><span style="font-family:'Times New Roman'; background-color:#ececec">必须显式地授予方法后期绑定属性的灵活性。例如</span><span style="font-family:Georgia; background-color:#ececec">, C++ </span><span style="font-family:'Times New Roman'; background-color:#ececec">使用 </span><span style="font-family:Georgia; background-color:#ececec">virtual </span><span style="font-family:'Times New Roman'; background-color:#ececec">关键字。在这些语言中</span><span style="font-family:Georgia; background-color:#ececec">,</span><span style="font-family:'Times New Roman'; background-color:#ececec">默认情况下方法不是动态绑定的。在 </span><span style="font-family:Georgia; background-color:#ececec">Java </span><span style="font-family:'Times New Roman'; background-color:#ececec">中</span><span style="font-family:Georgia; background-color:#ececec">,</span><span style="font-family:'Times New Roman'; background-color:#ececec">动态绑定是默认行为</span><span style="font-family:Georgia; background-color:#ececec">,</span><span style="font-family:'Times New Roman'; background-color:#ececec">不需要额外的关键字来实现多态性</span></a><a href="marginnote3app://note/0D302C9B-9852-4026-973C-0BA2D9C30A77" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_RefD9C30A77"></span></p><p style="margin-top:0pt; margin-left:100pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt; text-indent:-26.66pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:4; -aw-list-number-format:'(%4)'; -aw-list-number-styles:'decimal'; -aw-list-number-values:'2'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(2)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref8EDBDF77"><span style="font-family:'Times New Roman'">向上转型</span><span>”(upcasting)</span></a><a href="marginnote3app://note/49F30165-DB02-4FB9-9958-10A28EDBDF77" style="text-decoration:none"><span style="color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><br /><span style="font-family:'Times New Roman'; background-color:#d6e8ff">这种把子类当成其基类来处理的过程叫做 </span><span style="font-family:Georgia; background-color:#d6e8ff">“</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">向上转型</span><span style="font-family:Georgia; background-color:#d6e8ff">”(upcasting) </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">。</span><span style="-aw-bookmark-end:_Ref8EDBDF77"></span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt; text-indent:-26.66pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:4; -aw-list-number-format:'(%4)'; -aw-list-number-styles:'decimal'; -aw-list-number-values:'3'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(3)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref1F605AB6"><span style="font-family:'Times New Roman'">向下转型</span></a><a href="marginnote3app://note/1F825749-CEBE-4EB5-B674-D23C1F605AB6" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref1F605AB6"></span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt; text-indent:-19.44pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:5; -aw-list-number-format:'%5)'; -aw-list-number-styles:'lowerRoman'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>i)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_RefAA8650B3"><span style="font-family:'Times New Roman'; background-color:#ffbf7f">由于 </span><span style="font-family:Georgia; background-color:#ffbf7f">Java 5 </span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">版本前的集合只保存 </span><span style="font-family:Georgia; background-color:#ffbf7f">Object, </span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">当我们往集合中添加元素时</span><span style="font-family:Georgia; background-color:#ffbf7f">,</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">元素便向上转型成了 </span><span style="font-family:Georgia; background-color:#ffbf7f">Object,</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">从而丢失自己原有的类型特性。这时我们再从集合中取出该元素时</span><span style="font-family:Georgia; background-color:#ffbf7f">,</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">元素的类型变成了 </span><span style="font-family:Georgia; background-color:#ffbf7f">Object</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">。</span></a><a href="marginnote3app://note/22E161CE-CD11-4740-9667-3117AA8650B3" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_RefAA8650B3"></span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt"><span style="font-family:'Times New Roman'; color:#737373; background-color:#ffbf7f">我们使用了强制类型转换将其转为更具体的类型</span><span style="font-family:Georgia; color:#737373; background-color:#ffbf7f">,</span><span style="font-family:'Times New Roman'; color:#737373; background-color:#ffbf7f">这个过程称为对象的 </span><span style="font-family:Georgia; color:#737373; background-color:#ffbf7f">“</span><span style="font-family:'Times New Roman'; color:#737373; background-color:#ffbf7f">向下转型</span><span style="font-family:Georgia; color:#737373; background-color:#ffbf7f">”</span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt; text-indent:-23.05pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:5; -aw-list-number-format:'%5)'; -aw-list-number-styles:'lowerRoman'; -aw-list-number-values:'2'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>ii)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref7D01D8A0"><span style="font-family:'Times New Roman'; background-color:#ffbf7f">除非我们能确定元素的具体类型信息</span><span style="font-family:Georgia; background-color:#ffbf7f">,</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">否则 </span><span style="font-family:Georgia; background-color:#ffbf7f">“</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">向下转型</span><span style="font-family:Georgia; background-color:#ffbf7f">” </span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">就是不安全的</span></a><a href="marginnote3app://note/7DA7DE8A-5DB6-4531-B382-86E27D01D8A0" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref7D01D8A0"></span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt"><span style="font-family:'Times New Roman'; color:#737373; background-color:#ffbf7f">每次取出元素都要做额外的 </span><span style="font-family:Georgia; color:#737373; background-color:#ffbf7f">“</span><span style="font-family:'Times New Roman'; color:#737373; background-color:#ffbf7f">向下转型</span><span style="font-family:Georgia; color:#737373; background-color:#ffbf7f">” </span><span style="font-family:'Times New Roman'; color:#737373; background-color:#ffbf7f">对程序和程序员都是一种开销</span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt; text-indent:-26.66pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:4; -aw-list-number-format:'(%4)'; -aw-list-number-styles:'decimal'; -aw-list-number-values:'4'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(4)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_RefB4D05B4F"><span style="font-family:'Times New Roman'">参数化类型机制</span><span>(Parameterized Type Mechanism)</span></a><a href="marginnote3app://note/57A0DE48-ECA6-46A5-B99F-BBCAB4D05B4F" style="text-decoration:none"><span style="color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><br /><span style="font-family:'Times New Roman'; background-color:#ffbf7f">以某种方式创建集合</span><span style="font-family:Georgia; background-color:#ffbf7f">,</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">以确认保存元素的具体类型</span><span style="font-family:Georgia; background-color:#ffbf7f">,</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">减少集合元素 </span><span style="font-family:Georgia; background-color:#ffbf7f">“</span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">向下转型</span><span style="font-family:Georgia; background-color:#ffbf7f">” </span><span style="font-family:'Times New Roman'; background-color:#ffbf7f">的开销和可能出现的错误</span><span style="-aw-bookmark-end:_RefB4D05B4F"></span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt; text-indent:-19.44pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:5; -aw-list-number-format:'%5)'; -aw-list-number-styles:'lowerRoman'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>i)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref26C3BFAC"><span style="font-family:Georgia; background-color:#7fff7f">Java 5 </span><span style="font-family:'Times New Roman'; background-color:#7fff7f">版本支持了参数化类型机制</span><span style="font-family:Georgia; background-color:#7fff7f">, </span><span style="font-family:'Times New Roman'; background-color:#7fff7f">称之为 </span><span style="font-family:Georgia; background-color:#7fff7f">“</span><span style="font-family:'Times New Roman'; background-color:#7fff7f">泛型</span><span style="font-family:Georgia; background-color:#7fff7f">” (Generic) </span><span style="font-family:'Times New Roman'; background-color:#7fff7f">。 泛型是 </span><span style="font-family:Georgia; background-color:#7fff7f">Java 5 </span><span style="font-family:'Times New Roman'; background-color:#7fff7f">的主要特性之一</span></a><a href="marginnote3app://note/303FFA6D-3D55-432B-9CCF-D46B26C3BFAC" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref26C3BFAC"></span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt; text-indent:-21.6pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:3; -aw-list-number-format:'%3)'; -aw-list-number-styles:'lowerLetter'; -aw-list-number-values:'3'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>c)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref85568264"><span style="font-family:'Times New Roman'; background-color:#d6e8ff">发送消息给对象时</span><span style="font-family:Georgia; background-color:#d6e8ff">, </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">如果程序不知道接收的具体类型是什么</span><span style="font-family:Georgia; background-color:#d6e8ff">, </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">但最终执行是正确的</span><span style="font-family:Georgia; background-color:#d6e8ff">, </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">这就是对象的 </span><span style="font-family:Georgia; background-color:#d6e8ff">“</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">多态性</span><span style="font-family:Georgia; background-color:#d6e8ff">”(Polymorphism) </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">。面向对象的程序设计语言是通过 </span><span style="font-family:Georgia; background-color:#d6e8ff">“</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">动态绑定</span><span style="font-family:Georgia; background-color:#d6e8ff">”</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">的方式来实现对象的多态性的。编译器和运行时系统会负责对所有细节的控制</span><span style="font-family:Georgia; background-color:#d6e8ff">;</span></a><a href="marginnote3app://note/1A13AB35-546C-4D61-B04B-4D2185568264" style="text-decoration:none"><span style="color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref85568264"></span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><ol start="8" type="1" style="margin:0pt; padding-left:0pt"><li style="margin-left:33.5pt; line-height:110%; padding-left:6.5pt"><a name="_Ref694EFF87"><span style="font-family:'Times New Roman'">单继承结构</span></a><a href="marginnote3app://note/028ACDEB-78D1-4AC4-A3A6-17FD694EFF87" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref694EFF87"></span></li></ol><p style="margin-top:0pt; margin-left:40pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt; text-indent:-21.6pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:3; -aw-list-number-format:'%3)'; -aw-list-number-styles:'lowerLetter'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>a)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref8A0E2730"><span>Java</span><span style="font-family:'Times New Roman'">中只支持单继承</span></a><a href="marginnote3app://note/DD5160EA-0902-4CEC-B460-95BD8A0E2730" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><br /><span style="font-family:'Times New Roman'; background-color:#d6e8ff">在 </span><span style="font-family:Georgia; background-color:#d6e8ff">Java </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">中</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">最终基类的名字就是 </span><span style="font-family:Georgia; background-color:#d6e8ff">Object</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">。</span><span style="-aw-bookmark-end:_Ref8A0E2730"></span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt; text-indent:-22.33pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:3; -aw-list-number-format:'%3)'; -aw-list-number-styles:'lowerLetter'; -aw-list-number-values:'2'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>b)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_RefD65E62DF"><span style="font-family:'Times New Roman'; background-color:#d6e8ff">单继承的结构使得垃圾收集器的实现更为容易。这也是 </span><span style="font-family:Georgia; background-color:#d6e8ff">Java </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">在 </span><span style="font-family:Georgia; background-color:#d6e8ff">C++ </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">基础上的根本改进之一</span></a><a href="marginnote3app://note/D73F0C81-2CED-48C3-9A5A-0D1CD65E62DF" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_RefD65E62DF"></span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><ol start="9" type="1" style="margin:0pt; padding-left:0pt"><li style="margin-left:33.5pt; line-height:110%; padding-left:6.5pt"><a name="_Ref6D0AC690"><span style="font-family:'Times New Roman'">对象创建与生命周期</span></a><a href="marginnote3app://note/D0A151CA-D81C-42F0-96A5-843A6D0AC690" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref6D0AC690"></span></li></ol><p style="margin-top:0pt; margin-left:40pt; margin-bottom:0pt"><span style="font-family:'Times New Roman'; color:#737373; background-color:#ffeebf">对象的数据在哪</span><span style="color:#737373; background-color:#ffeebf">?</span><span style="font-family:'Times New Roman'; color:#737373; background-color:#ffeebf">它的生命周期是怎么被控制的</span><span style="color:#737373; background-color:#ffeebf">?</span><br /><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:40pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt; text-indent:-21.6pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:3; -aw-list-number-format:'%3)'; -aw-list-number-styles:'lowerLetter'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>a)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref982FE999"><span style="font-family:Georgia; background-color:#d9d9d9">C++ </span><span style="font-family:'Times New Roman'; background-color:#d9d9d9">设计中采用的观点是效率第一</span><span style="font-family:Georgia; background-color:#d9d9d9">,</span><span style="font-family:'Times New Roman'; background-color:#d9d9d9">因此它将选择权交给了程序员。为了获得最大的运行时速度</span><span style="font-family:Georgia; background-color:#d9d9d9">,</span><span style="font-family:'Times New Roman'; background-color:#d9d9d9">程序员可以在编写程序时</span><span style="font-family:Georgia; background-color:#d9d9d9">, </span><span style="font-family:'Times New Roman'; background-color:#d9d9d9">通过将对象放在栈</span><span style="font-family:Georgia; background-color:#d9d9d9">(Stack, </span><span style="font-family:'Times New Roman'; background-color:#d9d9d9">有时称为自动变量或作用域变量</span><span style="font-family:Georgia; background-color:#d9d9d9">)</span><span style="font-family:'Times New Roman'; background-color:#d9d9d9">或静态存储区域</span><span style="font-family:Georgia; background-color:#d9d9d9">(static storage area)</span><span style="font-family:'Times New Roman'; background-color:#d9d9d9">中来确定内存占用和生存时间。这些区域的对象会被优先分配内存和释放</span></a><a href="marginnote3app://note/35ABCB42-7743-4ADB-8486-1209982FE999" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref982FE999"></span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt; text-indent:-22.33pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:3; -aw-list-number-format:'%3)'; -aw-list-number-styles:'lowerLetter'; -aw-list-number-values:'2'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>b)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_RefCE3BC38C"><span style="font-family:'Times New Roman'">第二种方法是在堆内存</span><span>(Heap)</span><span style="font-family:'Times New Roman'">中动态地创建对象</span></a><a href="marginnote3app://note/79B2BF29-7C1E-4D9D-B84D-41E7CE3BC38C" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_RefCE3BC38C"></span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt"><span style="font-family:'Times New Roman'; color:#737373; background-color:#d6e8ff">。在这种方式下</span><span style="font-family:Georgia; color:#737373; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; color:#737373; background-color:#d6e8ff">直到程序运行我们才能确定需要创建的对象数量、生存时间和类型。什么时候需要</span><span style="font-family:Georgia; color:#737373; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; color:#737373; background-color:#d6e8ff">什么时候在堆内存中创建。因为内存的占用是动态管理的</span><span style="font-family:Georgia; color:#737373; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; color:#737373; background-color:#d6e8ff">所以在运行时</span><span style="font-family:Georgia; color:#737373; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; color:#737373; background-color:#d6e8ff">在堆内存上开辟空间所需的时间可能比在栈内存上要长</span><span style="font-family:Georgia; color:#737373; background-color:#d6e8ff">(</span><span style="font-family:'Times New Roman'; color:#737373; background-color:#d6e8ff">但也不一定</span><span style="font-family:Georgia; color:#737373; background-color:#d6e8ff">)</span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt; text-indent:-26.66pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:4; -aw-list-number-format:'(%4)'; -aw-list-number-styles:'decimal'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(1)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref2EC398C3"><span style="font-family:'Times New Roman'; background-color:#deffde">动态方法有这样一个合理假设</span><span style="font-family:Georgia; background-color:#deffde">:</span><span style="font-family:'Times New Roman'; background-color:#deffde">对象通常是复杂的</span><span style="font-family:Georgia; background-color:#deffde">,</span><span style="font-family:'Times New Roman'; background-color:#deffde">相比于对象创建的整体开销</span><span style="font-family:Georgia; background-color:#deffde">, </span><span style="font-family:'Times New Roman'; background-color:#deffde">寻找和释放内存空间的开销微不足道</span></a><a href="marginnote3app://note/85774B5A-B092-488E-96CF-D4102EC398C3" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref2EC398C3"></span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt; text-indent:-26.66pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:4; -aw-list-number-format:'(%4)'; -aw-list-number-styles:'decimal'; -aw-list-number-values:'2'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(2)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref0CB41BDA"><span style="font-family:Georgia; background-color:#d6e8ff">Java </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">使用动态内存分配。每次创建对象时</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">使用 </span><span style="font-family:Georgia; background-color:#d6e8ff">new </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">关键字构建该对象的动态实例</span></a><a href="marginnote3app://note/4D10B1C2-84AC-41B5-A43F-DEB50CB41BDA" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref0CB41BDA"></span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt; text-indent:-19.44pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:5; -aw-list-number-format:'%5)'; -aw-list-number-styles:'lowerRoman'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>i)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_RefD619EBC1"><span style="font-family:'Times New Roman'">这又带来另一个问题</span><span>:</span><span style="font-family:'Times New Roman'">对象的生命周期。</span></a><a href="marginnote3app://note/E2CE8942-79B5-4C2A-8246-606CD619EBC1" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><br /><span style="font-family:'Times New Roman'; background-color:#d6e8ff">较之堆内存</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">在栈内存中创建对象</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">编译器能够确定该对象的生命周期并自动销毁它</span><span style="font-family:Georgia; background-color:#d6e8ff">;</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">然而如果你在堆内存创建对象的话</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">编译器是不知道它的生命周期的</span><span style="-aw-bookmark-end:_RefD619EBC1"></span></p><p style="margin-top:0pt; margin-left:76pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:88pt; margin-bottom:0pt; text-indent:-25.93pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:6; -aw-list-number-format:'(%6)'; -aw-list-number-styles:'lowerLetter'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(a)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref0AA7D94A"><span style="font-family:'Times New Roman'; background-color:#d9d9d9">在 </span><span style="font-family:Georgia; background-color:#d9d9d9">C++ </span><span style="font-family:'Times New Roman'; background-color:#d9d9d9">中你必须以编程方式确定何时销毁对象</span><span style="font-family:Georgia; background-color:#d9d9d9">,</span><span style="font-family:'Times New Roman'; background-color:#d9d9d9">否则可能导致内存泄漏</span></a><a href="marginnote3app://note/9C393E0D-94D8-46E4-AD9C-9CE70AA7D94A" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref0AA7D94A"></span></p><p style="margin-top:0pt; margin-left:88pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:88pt; margin-bottom:0pt; text-indent:-26.66pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:6; -aw-list-number-format:'(%6)'; -aw-list-number-styles:'lowerLetter'; -aw-list-number-values:'2'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(b)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref5AC45288"><span style="font-family:Georgia; background-color:#d6e8ff">Java </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">的内存管理是建立在垃圾收集器上的</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">它能自动发现对象不再被使用并释放内存</span></a><a href="marginnote3app://note/B582AE49-236D-41E3-82A7-AA265AC45288" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref5AC45288"></span></p><p style="margin-top:0pt; margin-left:88pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><ol start="10" type="1" style="margin:0pt; padding-left:0pt"><li style="margin-left:33.5pt; line-height:110%; padding-left:6.5pt"><a name="_RefC4FE4A24"><span style="font-family:'Times New Roman'">异常处理</span></a><a href="marginnote3app://note/24208A18-F3AA-4DA2-AC01-4EE1C4FE4A24" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_RefC4FE4A24"></span></li></ol><p style="margin-top:0pt; margin-left:40pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt; text-indent:-21.6pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:3; -aw-list-number-format:'%3)'; -aw-list-number-styles:'lowerLetter'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>a)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_RefF5BD4869"><span style="font-family:Georgia; background-color:#d6e8ff">“</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">异常</span><span style="font-family:Georgia; background-color:#d6e8ff">”(Exception) </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">是一个从出错点 </span><span style="font-family:Georgia; background-color:#d6e8ff">“</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">抛出</span><span style="font-family:Georgia; background-color:#d6e8ff">”(thrown)</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">后能被特定类型的异常处理程序捕获 </span><span style="font-family:Georgia; background-color:#d6e8ff">(catch) </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">的一个对象。它不会干扰程序的正常运行</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">仅当程序出错的时候才被执行。这让我们的编码更简单</span><span style="font-family:Georgia; background-color:#d6e8ff">:</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">不用再反复检查错误了。另外</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">异常不像方法返回的错误值和方法设置用来表示发生错误的标志位那样可以被忽略。异常的发生是不会被忽略的</span><span style="font-family:Georgia; background-color:#d6e8ff">,</span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">它终究会在某一时刻被处理。</span></a><a href="marginnote3app://note/3728575B-8786-4427-9BC2-F0A5F5BD4869" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_RefF5BD4869"></span></p><p style="margin-top:0pt; margin-left:52pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt; text-indent:-26.66pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:4; -aw-list-number-format:'(%4)'; -aw-list-number-styles:'decimal'; -aw-list-number-values:'1'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(1)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref937F388F"><span style="font-family:Georgia; background-color:#d6e8ff">Java </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">从一开始就内置了异常处理</span><span style="font-family:Georgia; background-color:#d6e8ff">, </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">因此你不得不使用它。这是 </span><span style="font-family:Georgia; background-color:#d6e8ff">Java </span><span style="font-family:'Times New Roman'; background-color:#d6e8ff">语言唯一接受的错误报告方法</span></a><a href="marginnote3app://note/A826B0E7-00BA-43F0-864D-8FC5937F388F" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref937F388F"></span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt; text-indent:-26.66pt; line-height:110%; -aw-import:list-item; -aw-list-level-number:4; -aw-list-number-format:'(%4)'; -aw-list-number-styles:'decimal'; -aw-list-number-values:'2'; -aw-list-padding-sml:11.5pt"><span style="-aw-import:ignore"><span>(2)</span><span style="width:11.5pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><a name="_Ref959FED22"><span style="font-family:'Times New Roman'; background-color:#7fff7f">异常处理并不是面向对象的特性。尽管在面向对象的语言中异常通常由对象表示</span><span style="font-family:Georgia; background-color:#7fff7f">,</span><span style="font-family:'Times New Roman'; background-color:#7fff7f">但是在面向对象语言之前也存在异常处理</span></a><a href="marginnote3app://note/9492B020-47F1-4564-AF0C-A1A1959FED22" style="text-decoration:none"><span style="font-family:'Times New Roman'; color:#000000; -aw-import:spaces">&#xa0;</span><span style="color:#000000">&gt;&gt;</span></a><span style="-aw-bookmark-end:_Ref959FED22"></span></p><p style="margin-top:0pt; margin-left:64pt; margin-bottom:0pt"><span style="color:#737373; -aw-import:ignore">&#xa0;</span></p></div></body></html>